function rotate(e,a){var d=document.getElementById(e);if(!d||!a){return false}var g=d.getAttribute("step");if(g==null){g=0}if(a=="left"){(g==0)?g=3:g--}else{if(a=="right"){(g==3)?g=0:g++}}d.setAttribute("step",g);if(document.all){d.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+g+")";switch(g){case 0:d.parentNode.style.height=d.height;break;case 1:d.parentNode.style.height=d.width;break;case 2:d.parentNode.style.height=d.height;break;case 3:d.parentNode.style.height=d.width;break}}else{var f=document.getElementById("canvas_"+e);if(f==null){d.style.visibility="hidden";d.style.position="absolute";f=document.createElement("canvas");f.setAttribute("id","canvas_"+e);d.parentNode.appendChild(f)}var b=f.getContext("2d");switch(g){default:case 0:f.setAttribute("width",d.width);f.setAttribute("height",d.height);b.rotate(0*Math.PI/180);b.drawImage(d,0,0);break;case 1:f.setAttribute("width",d.height);f.setAttribute("height",d.width);b.rotate(90*Math.PI/180);b.drawImage(d,0,-d.height);break;case 2:f.setAttribute("width",d.width);f.setAttribute("height",d.height);b.rotate(180*Math.PI/180);b.drawImage(d,-d.width,-d.height);break;case 3:f.setAttribute("width",d.height);f.setAttribute("height",d.width);b.rotate(270*Math.PI/180);b.drawImage(d,-d.width,0);break}}};