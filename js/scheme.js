var ui={container:sui.gel("container"),w:null,productSkuId:"",btnSure:sui.gel("btnSure"),nav:sui.gel("nav"),scontent:sui.gel("scontent")};(function(a){if(a.os.ios){ui.scontent.classList.add("ios-scroll-bounce")}a.plusReady(function(){var b=plus.webview.currentWebview();ui.productSkuId=b.pid;var c=b.schemeId;setTimeout(function(){ui.w=sui.wait("正在加载...");sui.request("Home/ProductRentRuleList",{productSkuId:ui.productSkuId},true,function(g){if(g){var m=g.IsPass;if(m){var l=g.ReturnList.length;var k="";for(var h=0;h<l;h++){var n=g.ReturnList[h].PeriodDescription;var d=g.ReturnList[h].DetailList;var e=d.length;k+='<li class="mui-table-view-cell"><div class="mui-radio" ><input name="radio1" type="radio" value="'+g.ReturnList[h].RuleId+'" '+(c==g.ReturnList[h].RuleId?'checked="checked"':"")+"/>";k+='</div><div class="rent"><span class="one">押金：'+g.ReturnList[h].Deposit+'</span></div></li><div class="detail"><div class="row">租期</div><div class="row">租金</div>';for(var f=0;f<e;f++){k+='<div class="row">'+d[f].RentDate+'</div><div class="row">'+d[f].RentMoney+"</div>"}k+="</div>";if(!sui.IsNullOrEmpty(n)){k+='<div class="desc">'+n+"</div>"}}ui.container.innerHTML=k;ui.nav.classList.remove("mui-hidden");sui.closewait(ui.w)}else{mui.toast(g.Desc);sui.closewait(ui.w)}}else{mui.toast("无法连接到服务器，请检查网络是否连接！");sui.closewait(ui.w)}})},250)})})(mui);ui.btnSure.addEventListener("tap",function(){var a=ui.container.querySelectorAll('input[type="radio"]:checked').length;if(a){var c=ui.container.querySelector('input[type="radio"]:checked').value;var b=plus.webview.currentWebview().opener();if(b){b.evalJS('Rent("'+c+'");');setTimeout(function(){plus.webview.currentWebview().close()},150)}}else{mui.toast("请选择押金方案")}});