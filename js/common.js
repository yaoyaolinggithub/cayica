var sui={};(function(b,a){b.gel=function(c){return a.getElementById(c)};b.IsNullOrEmpty=function(c){return(c===null||c===""||c===undefined||c==="undefined")?true:false};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};String.prototype.Alltrim=function(){return this.replace(/\s/g,"")};String.prototype.isMobile=function(){return/^(?:13\d|14\d|15\d|17\d|18\d)\d{5}(\d{3}|\*{3})$/.test(this)};String.prototype.isFloat=function(){return/^([0-9]*[.]?[0-9])[0-9]{0,1}$/.test(this)};String.prototype.replaceAll=function(c,d){return this.replace(new RegExp(c,"gm"),d)};b.checkIdCard=function(e){var c=e;if(c.length==15){return b.isValidityBrithBy15IdCard(c)}else{if(c.length==18){var d=c.split("");if(b.isValidityBrithBy18IdCard(c)&&b.isTrueValidateCodeBy18IdCard(d)){return true}else{return false}}else{return false}}};b.isTrueValidateCodeBy18IdCard=function(h){var g=0;var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1];var c=[1,0,10,9,8,7,6,5,4,3,2];if(h[17].toLowerCase()=="x"){h[17]=10}for(var f=0;f<17;f++){g+=e[f]*h[f]}var d=g%11;if(h[17]==c[d]){return true}else{return false}};b.isValidityBrithBy18IdCard=function(d){var f=d.substring(6,10);var g=d.substring(10,12);var c=d.substring(12,14);var e=new Date(f,parseFloat(g)-1,parseFloat(c));if(e.getFullYear()!=parseFloat(f)||e.getMonth()!=parseFloat(g)-1||e.getDate()!=parseFloat(c)){return false}else{return true}};b.isValidityBrithBy15IdCard=function(f){var e=f.substring(6,8);var g=f.substring(8,10);var c=f.substring(10,12);var d=new Date(e,parseFloat(g)-1,parseFloat(c));if(d.getYear()!=parseFloat(e)||d.getMonth()!=parseFloat(g)-1||d.getDate()!=parseFloat(c)){return false}else{return true}};b.formatDate=function(j,g){if(!b.IsNullOrEmpty(g)){if(~g.indexOf(".")){g=g.substring(0,g.indexOf("."))}g=g.toString().replace("T"," ").replace(/\-/g,"/");var m,d="ymdhis";if(!j){j="y-m-d h:i:s"}if(g){m=new Date(g)}else{m=new Date()}var k=m.getMonth()+1;var l=m.getDate();var n=m.getHours();var c=m.getMinutes();var e=m.getSeconds();k=k<10?"0"+k:k;l=l<10?"0"+l:l;n=n<10?("0"+n):n;c=c<10?"0"+c:c;e=e<10?"0"+e:e;var f=[m.getFullYear().toString(),k.toString(),l.toString(),n.toString(),c.toString(),e.toString()];for(var h=0;h<f.length;h++){j=j.replace(d.charAt(h),f[h])}return j}else{return""}};b.rmoney=function(c){return parseFloat(c).toFixed(2).toString().split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("")};b.wait=function(c){if(window.plus){return plus.nativeUI.showWaiting(c,{width:"110px",height:"105px",size:"15px",background:"rgba(0,0,0,.6)",color:"#FFFFFF",back:"close",round:"5px"})}else{a.addEventListener("plusready",function(){return plus.nativeUI.showWaiting(c,{width:"110px",height:"105px",size:"15px",background:"rgba(0,0,0,.6)",color:"#FFFFFF",back:"close",round:"5px"})},false)}};b.closewait=function(c){if(c){c.close();c=null}};b.request=function(g,c,d,f){var e="https://app.cayica.com/"+g;mui.ajax(e,{dataType:"json",type:d==true?"get":"post",timeout:20000,data:c,success:function(h){f(h)},error:function(j,h,i){f(false)}})};b.post=function(f,c,e){var d="https://app.cayica.com/"+f;mui.ajax(d,{contentType:"application/json",type:"post",timeout:20000,data:JSON.stringify(c),success:function(g){e(g)},error:function(i,g,h){e(false)}})};b.open=function(e,d,c){mui.openWindow({url:e,id:d,show:{duration:250,aniShow:"pop-in"},waiting:{autoShow:false},extras:c})};b.setToken=function(c){localStorage.setItem("CAYICA_TOKEN",c)};b.getToken=function(){return localStorage.getItem("CAYICA_TOKEN")};b.removeToken=function(){localStorage.removeItem("CAYICA_TOKEN")};b.isLogin=function(){var c=false;if(b.getToken()){c=true}return c};b.fragment=function(){return a.createDocumentFragment()};b.unique=function(e){var d="";for(var c=0;c<e;c++){d+=Math.floor(Math.random()*10)}return"U"+new Date().getTime()+d};b.ctips=function(c,d){elem=a.createElement("div");elem.className="nonetips";elem.innerHTML='<span class="mui-icon iconfont icon-'+c+'"></span><span class="tipsWord">'+d+"</span>";a.body.appendChild(elem);return elem};b.rtips=function(c){if(c){a.body.removeChild(c);return null}};b.cword=function(c,d){c.querySelector(".tipsWord").innerText=d};b.InitBadge=function(c){localStorage.setItem("badgeNum_cayica",c.toString());plus.runtime.setBadgeNumber(c)};b.SetBadge=function(f){var d=localStorage.getItem("badgeNum_cayica")||0;var e=parseInt(d)-parseInt(f);if(e<0){e=0}plus.runtime.setBadgeNumber(e)};b.shared=function(){return"https://m.cayica.com/"};mui.plusReady(function(){mui.init();a.addEventListener("longtap",function(){plus.device.vibrate(30)});var c=null,d=null;if(mui.os.ios){c=plus.ios.importClass("UIApplication");d=c.sharedApplication()}mui.ajaxSettings.beforeSend=function(h,g){h.setRequestHeader("Token",b.getToken());if(mui.os.ios&&d){d.setNetworkActivityIndicatorVisible(true)}};mui.ajaxSettings.complete=function(h,g){if(mui.os.ios&&d){d.setNetworkActivityIndicatorVisible(false);plus.ios.deleteObject(d)}};var f=plus.webview.currentWebview();if(f){var e=f.id;if(e!="default.html"&&e!="category.html"&&e!="cart.html"&&e!="my.html"){f.setStyle({scrollIndicator:"none"})}}});window.onerror=function(f,e,d){if(window.plus){var c=plus.uploader.createUpload("https://service.dcloud.net.cn/feedback",{method:"POST"},function(h,g){});c.addData("content","错误描述:"+f+" 。 错误地址:"+e+" 。 错误行号:"+d+"。操作用户:"+b.getToken()+"。Webview标识:"+plus.webview.currentWebview().id);c.addData("contact","13544267708");c.addData("score",5);c.addData("appid",plus.runtime.appid);c.addData("p",mui.os.android?"a":"i");c.addData("md",plus.device.model);c.addData("app_version",plus.runtime.version);c.addData("plus_version",plus.runtime.innerVersion);c.addData("os",mui.os.version);c.start();if(ui&&ui.w){if(ui.updateTime){ui.updateTime=""}if(ui.timestamp){ui.timestamp=""}b.closewait(ui.w)}}}}(sui,document));