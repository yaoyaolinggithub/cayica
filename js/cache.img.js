var cache={};(function(a){a.setImg=function(d,e,f){if(d==null||e==null||e==""){setTimeout(function(){f&&f()},10);return}var c=e.substring(e.lastIndexOf("/")+1,e.length);var b="_downloads/"+c;plus.io.resolveLocalFileSystemURL(b,function(g){a.setImgFromLocal(d,b,f)},function(g){a.setImgFromNet(d,e,b,f)})};a.setImgFromLocal=function(d,c,f){var b=plus.io.convertLocalFileSystemURL(c);var e=document.getElementById(d);if(e){e.src=b}setTimeout(function(){f&&f()},50)};a.setImgFromNet=function(c,d,b,f){var e=plus.downloader.createDownload(d,{},function(i,g){if(g==200){a.setImgFromLocal(c,i.filename,f)}else{if(b!=null){var h=document.getElementById(c);if(h){h.src=d}a.delFile(b);setTimeout(function(){f&&f()},50)}}});e.start()};a.delFile=function(b){plus.io.resolveLocalFileSystemURL(b,function(c){c.remove(function(d){},function(d){})})}}(cache));