!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.html2canvas=a()}}}(function(){var a;return function b(j,h,l){function k(i,e){if(!h[i]){if(!j[i]){var m="function"==typeof require&&require;if(!e&&m){return m(i,!0)}if(g){return g(i,!0)}var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var d=h[i]={exports:{}};j[i][0].call(d.exports,function(p){var o=j[i][1][p];return k(o?o:p)},d,d.exports,b,j,h,l)}return h[i].exports}for(var g="function"==typeof require&&require,c=0;c<l.length;c++){k(l[c])}return k}({1:[function(e,c,d){(function(f){!function(ao){function al(g){throw RangeError(P[g])}function Y(h,i){for(var g=h.length;g--;){h[g]=i(h[g])}return h}function ai(g,h){return Y(g.split(R),h).join(".")}function aa(j){for(var m,h,l=[],k=0,g=j.length;g>k;){m=j.charCodeAt(k++),m>=55296&&56319>=m&&g>k?(h=j.charCodeAt(k++),56320==(64512&h)?l.push(((1023&m)<<10)+(1023&h)+65536):(l.push(m),k--)):l.push(m)}return l}function W(g){return Y(g,function(h){var i="";return h>65535&&(h-=65536,i+=n(h>>>10&1023|55296),h=56320|1023&h),i+=n(h)}).join("")}function ar(g){return 10>g-48?g-22:26>g-65?g-65:26>g-97?g-97:aj}function ag(g,h){return g+22+75*(26>g)-((0!=h)<<5)}function ap(h,j,g){var i=0;for(h=g?o(h/ad):h>>1,h+=o(h/j);h>N*M>>1;i+=aj){h=o(h/N)}return o(i+(N+1)*h/(h+af))}function O(A){var k,z,j,B,G,u,H,i,D,q,h=[],F=A.length,E=0,C=Z,x=ab;for(z=A.lastIndexOf(X),0>z&&(z=0),j=0;z>j;++j){A.charCodeAt(j)>=128&&al("not-basic"),h.push(A.charCodeAt(j))}for(B=z>0?z+1:0;F>B;){for(G=E,u=1,H=aj;B>=F&&al("invalid-input"),i=ar(A.charCodeAt(B++)),(i>=aj||i>o((ak-E)/u))&&al("overflow"),E+=i*u,D=x>=H?ae:H>=x+M?M:H-x,!(D>i);H+=aj){q=aj-D,u>o(ak/q)&&al("overflow"),u*=q}k=h.length+1,x=ap(E-G,k,0==G),o(E/k)>ak-C&&al("overflow"),C+=o(E/k),E%=k,h.splice(E++,0,C)}return W(h)}function ah(A){var k,z,j,B,I,q,H,E,D,p,i,G,F,C,x,s=[];for(A=aa(A),G=A.length,k=Z,z=0,I=ab,q=0;G>q;++q){i=A[q],128>i&&s.push(n(i))}for(j=B=s.length,B&&s.push(X);G>j;){for(H=ak,q=0;G>q;++q){i=A[q],i>=k&&H>i&&(H=i)}for(F=j+1,H-k>o((ak-z)/F)&&al("overflow"),z+=(H-k)*F,k=H,q=0;G>q;++q){if(i=A[q],k>i&&++z>ak&&al("overflow"),i==k){for(E=z,D=aj;p=I>=D?ae:D>=I+M?M:D-I,!(p>E);D+=aj){x=E-p,C=aj-p,s.push(n(ag(p+x%C,0))),E=o(x/C)}s.push(n(ag(E,0))),I=ap(z,F,j==B),z=0,++j}}++z,++k}return s.join("")}function ac(g){return ai(g,function(h){return V.test(h)?O(h.slice(4).toLowerCase()):h})}function U(g){return ai(g,function(h){return T.test(h)?"xn--"+ah(h):h})}var S="object"==typeof d&&d,aq="object"==typeof c&&c&&c.exports==S&&c,an="object"==typeof f&&f;(an.global===an||an.window===an)&&(ao=an);var am,Q,ak=2147483647,aj=36,ae=1,M=26,af=38,ad=700,ab=72,Z=128,X="-",V=/^xn--/,T=/[^ -~]/,R=/\x2E|\u3002|\uFF0E|\uFF61/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=aj-ae,o=Math.floor,n=String.fromCharCode;if(am={version:"1.2.4",ucs2:{decode:aa,encode:W},decode:O,encode:ah,toASCII:U,toUnicode:ac},"function"==typeof a&&"object"==typeof a.amd&&a.amd){a("punycode",function(){return am})}else{if(S&&!S.nodeType){if(aq){aq.exports=am}else{for(Q in am){am.hasOwnProperty(Q)&&(S[Q]=am[Q])}}}else{ao.punycode=am}}}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(j,m){function h(i,o,d){!i.defaultView||o===i.defaultView.pageXOffset&&d===i.defaultView.pageYOffset||i.defaultView.scrollTo(o,d)}function l(i,o){try{o&&(o.width=i.width,o.height=i.height,o.getContext("2d").putImageData(i.getContext("2d").getImageData(0,0,i.width,i.height),0,0))}catch(d){c("Unable to copy canvas content from",i,d)}}function k(p,q){for(var o=3===p.nodeType?document.createTextNode(p.nodeValue):p.cloneNode(!1),d=p.firstChild;d;){(q===!0||1!==d.nodeType||"SCRIPT"!==d.nodeName)&&o.appendChild(k(d,q)),d=d.nextSibling}return 1===p.nodeType&&(o._scrollTop=p.scrollTop,o._scrollLeft=p.scrollLeft,"CANVAS"===p.nodeName?l(p,o):("TEXTAREA"===p.nodeName||"SELECT"===p.nodeName)&&(o.value=p.value)),o}function g(d){if(1===d.nodeType){d.scrollTop=d._scrollTop,d.scrollLeft=d._scrollLeft;for(var f=d.firstChild;f;){g(f),f=f.nextSibling}}}var c=j("./log");m.exports=function(r,i,f,x,q,y,w){var v=k(r.documentElement,q.javascriptEnabled),d=i.createElement("iframe");return d.className="html2canvas-container",d.style.visibility="hidden",d.style.position="fixed",d.style.left="-10000px",d.style.top="0px",d.style.border="0",d.width=f,d.height=x,d.scrolling="no",i.body.appendChild(d),new Promise(function(p){var e=d.contentWindow.document;d.contentWindow.onload=d.onload=function(){var n=setInterval(function(){e.body.childNodes.length>0&&(g(e.documentElement),clearInterval(n),"view"===q.type&&(d.contentWindow.scrollTo(y,w),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||d.contentWindow.scrollY===w&&d.contentWindow.scrollX===y||(e.documentElement.style.top=-w+"px",e.documentElement.style.left=-y+"px",e.documentElement.style.position="absolute")),p(d))},50)},e.open(),e.write("<!DOCTYPE html><html></html>"),h(r,y,w),e.replaceChild(e.adoptNode(v),e.documentElement),e.close()})}},{"./log":13}],3:[function(k,q){function j(d){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(d)||this.namedColor(d)||this.rgb(d)||this.rgba(d)||this.hex6(d)||this.hex3(d)}j.prototype.darken=function(d){var f=1-d;return new j([Math.round(this.r*f),Math.round(this.g*f),Math.round(this.b*f),this.a])},j.prototype.isTransparent=function(){return 0===this.a},j.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},j.prototype.fromArray=function(d){return Array.isArray(d)&&(this.r=Math.min(d[0],255),this.g=Math.min(d[1],255),this.b=Math.min(d[2],255),d.length>3&&(this.a=d[3])),Array.isArray(d)};var p=/^#([a-f0-9]{3})$/i;j.prototype.hex3=function(d){var f=null;return null!==(f=d.match(p))&&(this.r=parseInt(f[1][0]+f[1][0],16),this.g=parseInt(f[1][1]+f[1][1],16),this.b=parseInt(f[1][2]+f[1][2],16)),null!==f};var m=/^#([a-f0-9]{6})$/i;j.prototype.hex6=function(d){var f=null;return null!==(f=d.match(m))&&(this.r=parseInt(f[1].substring(0,2),16),this.g=parseInt(f[1].substring(2,4),16),this.b=parseInt(f[1].substring(4,6),16)),null!==f};var h=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;j.prototype.rgb=function(d){var f=null;return null!==(f=d.match(h))&&(this.r=Number(f[1]),this.g=Number(f[2]),this.b=Number(f[3])),null!==f};var g=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;j.prototype.rgba=function(d){var f=null;return null!==(f=d.match(g))&&(this.r=Number(f[1]),this.g=Number(f[2]),this.b=Number(f[3]),this.a=Number(f[4])),null!==f},j.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},j.prototype.namedColor=function(d){d=d.toLowerCase();var f=c[d];if(f){this.r=f[0],this.g=f[1],this.b=f[2]}else{if("transparent"===d){return this.r=this.g=this.b=this.a=0,!0}}return !!f},j.prototype.isColor=!0;var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};q.exports=j},{}],4:[function(H,P){function G(h,j){var g=L++;if(j=j||{},j.logging&&(A.options.logging=!0,A.options.start=Date.now()),j.async="undefined"==typeof j.async?!0:j.async,j.allowTaint="undefined"==typeof j.allowTaint?!1:j.allowTaint,j.removeContainer="undefined"==typeof j.removeContainer?!0:j.removeContainer,j.javascriptEnabled="undefined"==typeof j.javascriptEnabled?!1:j.javascriptEnabled,j.imageTimeout="undefined"==typeof j.imageTimeout?10000:j.imageTimeout,j.renderer="function"==typeof j.renderer?j.renderer:R,j.strict=!!j.strict,"string"==typeof h){if("string"!=typeof j.proxy){return Promise.reject("Proxy must be used when rendering url")}var i=null!=j.width?j.width:window.innerWidth,d=null!=j.height?j.height:window.innerHeight;return O(T(h),j.proxy,document,i,d,j).then(function(f){return M(f.contentWindow.document.documentElement,f,j,i,d)})}var c=(void 0===h?[document.documentElement]:h.length?h:[h])[0];return c.setAttribute(q+g,g),Q(c.ownerDocument,j,c.ownerDocument.defaultView.innerWidth,c.ownerDocument.defaultView.innerHeight,g).then(function(f){return"function"==typeof j.onrendered&&(A("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),j.onrendered(f)),f})}function Q(g,j,c,i,h){return S(g,g,c,i,j,g.defaultView.pageXOffset,g.defaultView.pageYOffset).then(function(m){A("Document cloned");var f=q+h,n="["+f+"='"+h+"']";g.querySelector(n).removeAttribute(f);var k=m.contentWindow,d=k.document.querySelector(n),o=Promise.resolve("function"==typeof j.onclone?j.onclone(k.document):!0);return o.then(function(){return M(d,m,j,c,i)})})}function M(s,k,p,j,t){var l=k.contentWindow,U=new F(l.document),u=new e(p,U),h=N(s),V="view"===p.type?j:D(l.document),v="view"===p.type?t:B(l.document),m=new p.renderer(V,v,u,p,document),y=new I(s,m,U,u,p);return y.ready.then(function(){A("Finished rendering");var c;return c="view"===p.type?J(m.canvas,{width:m.canvas.width,height:m.canvas.height,top:0,left:0,x:0,y:0}):s===l.document.body||s===l.document.documentElement||null!=p.canvas?m.canvas:J(m.canvas,{width:null!=p.width?p.width:h.width,height:null!=p.height?p.height:h.height,top:h.top,left:h.left,x:0,y:0}),C(k,p),c})}function C(c,d){d.removeContainer&&(c.parentNode.removeChild(c),A("Cleaned up container"))}function J(m,g){var k=document.createElement("canvas"),c=Math.min(m.width-1,Math.max(0,g.left)),p=Math.min(m.width,Math.max(1,g.left+g.width)),j=Math.min(m.height-1,Math.max(0,g.top)),r=Math.min(m.height,Math.max(1,g.top+g.height));k.width=g.width,k.height=g.height;var h=p-c,u=r-j;return A("Cropping canvas at:","left:",g.left,"top:",g.top,"width:",h,"height:",u),A("Resulting crop with width",g.width,"and height",g.height,"with x",c,"and y",j),k.getContext("2d").drawImage(m,c,j,h,u,g.x,g.y,h,u),k}function D(c){return Math.max(Math.max(c.body.scrollWidth,c.documentElement.scrollWidth),Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),Math.max(c.body.clientWidth,c.documentElement.clientWidth))}function B(c){return Math.max(Math.max(c.body.scrollHeight,c.documentElement.scrollHeight),Math.max(c.body.offsetHeight,c.documentElement.offsetHeight),Math.max(c.body.clientHeight,c.documentElement.clientHeight))}function T(c){var d=document.createElement("a");return d.href=c,d.href=d.href,d}var F=H("./support"),R=H("./renderers/canvas"),e=H("./imageloader"),I=H("./nodeparser"),E=H("./nodecontainer"),A=H("./log"),z=H("./utils"),S=H("./clone"),O=H("./proxy").loadUrlDocument,N=z.getBounds,q="data-html2canvas-node",L=0;G.CanvasRenderer=R,G.NodeContainer=E,G.log=A,G.utils=z;var K="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:G;P.exports=K,"function"==typeof a&&a.amd&&a("html2canvas",[],function(){return K})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(g,j){function c(d){if(this.src=d,i("DummyImageContainer for",d),!this.promise||!this.image){i("Initiating DummyImageContainer"),c.prototype.image=new Image;var f=this.image;c.prototype.promise=new Promise(function(l,k){f.onload=l,f.onerror=k,f.src=h(),f.complete===!0&&l(f)})}}var i=g("./log"),h=g("./utils").smallImage;j.exports=c},{"./log":13,"./utils":26}],6:[function(d,h){function c(q,u){var p,r,m=document.createElement("div"),k=document.createElement("img"),j=document.createElement("span"),o="Hidden Text";m.style.visibility="hidden",m.style.fontFamily=q,m.style.fontSize=u,m.style.margin=0,m.style.padding=0,document.body.appendChild(m),k.src=g(),k.width=1,k.height=1,k.style.margin=0,k.style.padding=0,k.style.verticalAlign="baseline",j.style.fontFamily=q,j.style.fontSize=u,j.style.margin=0,j.style.padding=0,j.appendChild(document.createTextNode(o)),m.appendChild(j),m.appendChild(k),p=k.offsetTop-j.offsetTop+1,m.removeChild(j),m.appendChild(document.createTextNode(o)),m.style.lineHeight="normal",k.style.verticalAlign="super",r=k.offsetTop-m.offsetTop+1,document.body.removeChild(m),this.baseline=p,this.lineWidth=1,this.middle=r}var g=d("./utils").smallImage;h.exports=c},{"./utils":26}],7:[function(d,h){function c(){this.data={}}var g=d("./font");c.prototype.getMetrics=function(f,i){return void 0===this.data[f+"-"+i]&&(this.data[f+"-"+i]=new g(f,i)),this.data[f+"-"+i]},h.exports=c},{"./font":6}],8:[function(h,l){function g(q,m,p){this.image=null,this.src=q;var e=this,d=j(q);this.promise=(m?new Promise(function(f){"about:blank"===q.contentWindow.document.URL||null==q.contentWindow.document.documentElement?q.contentWindow.onload=q.onload=function(){f(q)}:f(q)}):this.proxyLoad(p.proxy,d,p)).then(function(o){var i=h("./core");return i(o.contentWindow.document.documentElement,{type:"view",width:o.width,height:o.height,proxy:p.proxy,javascriptEnabled:p.javascriptEnabled,removeContainer:p.removeContainer,allowTaint:p.allowTaint,imageTimeout:p.imageTimeout/2})}).then(function(f){return e.image=f})}var k=h("./utils"),j=k.getBounds,c=h("./proxy").loadUrlDocument;g.prototype.proxyLoad=function(i,p,d){var m=this.src;return c(m.src,i,m.ownerDocument,p.width,p.height,d)},l.exports=g},{"./core":4,"./proxy":16,"./utils":26}],9:[function(d,g){function c(f){this.src=f.value,this.colorStops=[],this.type=null,this.x0=0.5,this.y0=0.5,this.x1=0.5,this.y1=0.5,this.promise=Promise.resolve(!0)}c.TYPES={LINEAR:1,RADIAL:2},c.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,g.exports=c},{}],10:[function(d,g){function c(i,j){this.src=i,this.image=new Image;var h=this;this.tainted=null,this.promise=new Promise(function(f,e){h.image.onload=f,h.image.onerror=e,j&&(h.image.crossOrigin="anonymous"),h.image.src=i,h.image.complete===!0&&f(h.image)})}g.exports=c},{}],11:[function(r,j){function q(c,d){this.link=null,this.options=c,this.support=d,this.origin=this.getOrigin(window.location.href)}var h=r("./log"),v=r("./imagecontainer"),m=r("./dummyimagecontainer"),z=r("./proxyimagecontainer"),k=r("./framecontainer"),A=r("./svgcontainer"),y=r("./svgnodecontainer"),x=r("./lineargradientcontainer"),g=r("./webkitgradientcontainer"),w=r("./utils").bind;q.prototype.findImages=function(c){var d=[];return c.reduce(function(f,i){switch(i.node.nodeName){case"IMG":return f.concat([{args:[i.node.src],method:"url"}]);case"svg":case"IFRAME":return f.concat([{args:[i.node],method:i.node.nodeName}])}return f},[]).forEach(this.addImage(d,this.loadImage),this),d},q.prototype.findBackgroundImage=function(c,d){return d.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(c,this.loadImage),this),c},q.prototype.addImage=function(c,d){return function(e){e.args.forEach(function(f){this.imageExists(c,f)||(c.splice(0,0,d.call(this,e)),h("Added image #"+c.length,"string"==typeof f?f.substring(0,100):f))},this)}},q.prototype.hasImageBackground=function(c){return"none"!==c.method},q.prototype.loadImage=function(c){if("url"===c.method){var d=c.args[0];return !this.isSVG(d)||this.support.svg||this.options.allowTaint?d.match(/data:image\/.*;base64,/i)?new v(d.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(d)||this.options.allowTaint===!0||this.isSVG(d)?new v(d,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new v(d,!0):this.options.proxy?new z(d,this.options.proxy):new m(d):new A(d)}return"linear-gradient"===c.method?new x(c):"gradient"===c.method?new g(c):"svg"===c.method?new y(c.args[0],this.support.svg):"IFRAME"===c.method?new k(c.args[0],this.isSameOrigin(c.args[0].src),this.options):new m(c)},q.prototype.isSVG=function(c){return"svg"===c.substring(c.length-3).toLowerCase()||A.prototype.isInline(c)},q.prototype.imageExists=function(c,d){return c.some(function(f){return f.src===d})},q.prototype.isSameOrigin=function(c){return this.getOrigin(c)===this.origin},q.prototype.getOrigin=function(c){var d=this.link||(this.link=document.createElement("a"));return d.href=c,d.href=d.href,d.protocol+d.hostname+d.port},q.prototype.getPromise=function(c){return this.timeout(c,this.options.imageTimeout)["catch"](function(){var d=new m(c.src);return d.promise.then(function(e){c.image=e})})},q.prototype.get=function(c){var d=null;return this.images.some(function(e){return(d=e).src===c})?d:null},q.prototype.fetch=function(c){return this.images=c.reduce(w(this.findBackgroundImage,this),this.findImages(c)),this.images.forEach(function(d,f){d.promise.then(function(){h("Succesfully loaded image #"+(f+1),d)},function(e){h("Failed loading image #"+(f+1),d,e)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),h("Finished searching images"),this},q.prototype.timeout=function(i,o){var c,l=Promise.race([i.promise,new Promise(function(f,e){c=setTimeout(function(){h("Timed out loading image",i),e(i)},o)})]).then(function(d){return clearTimeout(c),d});return l["catch"](function(){clearTimeout(c)}),l},j.exports=q},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(g,j){function c(d){i.apply(this,arguments),this.type=i.TYPES.LINEAR;var f=c.REGEXP_DIRECTION.test(d.args[0])||!i.REGEXP_COLORSTOP.test(d.args[0]);f?d.args[0].split(/\s+/).reverse().forEach(function(l,q){switch(l){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var k=this.y0,p=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=p,this.y1=k;break;case"center":break;default:var m=0.01*parseFloat(l,10);if(isNaN(m)){break}0===q?(this.y0=m,this.y1=1-this.y0):(this.x0=m,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=d.args.slice(f?1:0).map(function(m){var o=m.match(i.REGEXP_COLORSTOP),l=+o[2],k=0===l?"%":o[3];return{color:new h(o[1]),stop:"%"===k?l/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(k,l){null===k.stop&&this.colorStops.slice(l).some(function(e,m){return null!==e.stop?(k.stop=(e.stop-this.colorStops[l-1].stop)/(m+1)+this.colorStops[l-1].stop,!0):!1},this)},this)}var i=g("./gradientcontainer"),h=g("./color");c.prototype=Object.create(i.prototype),c.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,j.exports=c},{"./color":3,"./gradientcontainer":9}],13:[function(d,g){var c=function(){c.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-c.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};c.options={logging:!1},g.exports=c},{}],14:[function(r,j){function q(c,d){this.node=c,this.parent=d,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function h(c){var d=c.options[c.selectedIndex||0];return d?d.text||"":""}function v(c){if(c&&"matrix"===c[1]){return c[2].split(",").map(function(f){return parseFloat(f.trim())})}if(c&&"matrix3d"===c[1]){var d=c[2].split(",").map(function(f){return parseFloat(f.trim())});return[d[0],d[1],d[4],d[5],d[12],d[13]]}}function m(c){return -1!==c.toString().indexOf("%")}function z(c){return c.replace("px","")}function k(c){return parseFloat(c)}var A=r("./color"),y=r("./utils"),x=y.getBounds,g=y.parseBackgrounds,w=y.offsetBounds;q.prototype.cloneTo=function(c){c.visible=this.visible,c.borders=this.borders,c.bounds=this.bounds,c.clip=this.clip,c.backgroundClip=this.backgroundClip,c.computedStyles=this.computedStyles,c.styles=this.styles,c.backgroundImages=this.backgroundImages,c.opacity=this.opacity},q.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},q.prototype.assignStack=function(c){this.stack=c,c.children.push(this)},q.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},q.prototype.css=function(c){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[c]||(this.styles[c]=this.computedStyles[c])},q.prototype.prefixedCss=function(d){var i=["webkit","moz","ms","o"],c=this.css(d);return void 0===c&&i.some(function(e){return c=this.css(e+d.substr(0,1).toUpperCase()+d.substr(1)),void 0!==c},this),void 0===c?null:c},q.prototype.computedStyle=function(c){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,c)},q.prototype.cssInt=function(c){var d=parseInt(this.css(c),10);return isNaN(d)?0:d},q.prototype.color=function(c){return this.colors[c]||(this.colors[c]=new A(this.css(c)))},q.prototype.cssFloat=function(c){var d=parseFloat(this.css(c));return isNaN(d)?0:d},q.prototype.fontWeight=function(){var c=this.css("fontWeight");switch(parseInt(c,10)){case 401:c="bold";break;case 400:c="normal"}return c},q.prototype.parseClip=function(){var c=this.css("clip").match(this.CLIP);return c?{top:parseInt(c[1],10),right:parseInt(c[2],10),bottom:parseInt(c[3],10),left:parseInt(c[4],10)}:null},q.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=g(this.css("backgroundImage")))},q.prototype.cssList=function(d,i){var c=(this.css(d)||"").split(",");return c=c[i||0]||c[0]||"auto",c=c.trim().split(" "),1===c.length&&(c=[c[0],m(c[0])?"auto":c[0]]),c},q.prototype.parseBackgroundSize=function(B,E,u){var D,C,i=this.cssList("backgroundSize",u);if(m(i[0])){D=B.width*parseFloat(i[0])/100}else{if(/contain|cover/.test(i[0])){var c=B.width/B.height,p=E.width/E.height;return p>c^"contain"===i[0]?{width:B.height*p,height:B.height}:{width:B.width,height:B.width/p}}D=parseInt(i[0],10)}return C="auto"===i[0]&&"auto"===i[1]?E.height:"auto"===i[1]?D/E.width*E.height:m(i[1])?B.height*parseFloat(i[1])/100:parseInt(i[1],10),"auto"===i[0]&&(D=C/E.height*E.width),{width:D,height:C}},q.prototype.parseBackgroundPosition=function(s,C,p,B){var u,i,c=this.cssList("backgroundPosition",p);return u=m(c[0])?(s.width-(B||C).width)*(parseFloat(c[0])/100):parseInt(c[0],10),i="auto"===c[1]?u/C.width*C.height:m(c[1])?(s.height-(B||C).height)*parseFloat(c[1])/100:parseInt(c[1],10),"auto"===c[0]&&(u=i/C.height*C.width),{left:u,top:i}},q.prototype.parseBackgroundRepeat=function(c){return this.cssList("backgroundRepeat",c)[0]},q.prototype.parseTextShadows=function(){var i=this.css("textShadow"),s=[];if(i&&"none"!==i){for(var c=i.match(this.TEXT_SHADOW_PROPERTY),p=0;c&&p<c.length;p++){var l=c[p].match(this.TEXT_SHADOW_VALUES);s.push({color:new A(l[0]),offsetX:l[1]?parseFloat(l[1].replace("px","")):0,offsetY:l[2]?parseFloat(l[2].replace("px","")):0,blur:l[3]?l[3].replace("px",""):0})}}return s},q.prototype.parseTransform=function(){if(!this.transformData){if(this.hasTransform()){var c=this.parseBounds(),d=this.prefixedCss("transformOrigin").split(" ").map(z).map(k);d[0]+=c.left,d[1]+=c.top,this.transformData={origin:d,matrix:this.parseTransformMatrix()}}else{this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}}}return this.transformData},q.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var c=this.prefixedCss("transform"),d=c?v(c.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=d?d:[1,0,0,1,0,0]}return this.transformMatrix},q.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?w(this.node):x(this.node))},q.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},q.prototype.getValue=function(){var c=this.node.value||"";return"SELECT"===this.node.tagName?c=h(this.node):"password"===this.node.type&&(c=Array(c.length+1).join("•")),0===c.length?this.node.placeholder||"":c},q.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,q.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,q.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,q.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,j.exports=q},{"./color":3,"./utils":26}],15:[function(aX,aO){function aW(j,m,h,l,k){am("Starting NodeParser"),this.renderer=m,this.options=k,this.range=null,this.support=h,this.renderQueue=[],this.stack=new af(!0,1,j.ownerDocument,null);var g=new ak(j,null);if(k.background&&m.rectangle(0,0,m.width,m.height,new ag(k.background)),j===j.ownerDocument.documentElement){var c=new ak(g.color("backgroundColor").isTransparent()?j.ownerDocument.body:j.ownerDocument.documentElement,null);m.rectangle(0,0,m.width,m.height,c.color("backgroundColor"))}g.visibile=g.isElementVisible(),this.createPseudoHideStyles(j.ownerDocument),this.disableAnimations(j.ownerDocument),this.nodes=ar([g].concat(this.getChildren(g)).filter(function(d){return d.visible=d.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new ah,am("Fetched nodes, total:",this.nodes.length),am("Calculate overflow clips"),this.calculateOverflowClips(),am("Start fetching images"),this.images=l.fetch(this.nodes.filter(aA)),this.ready=this.images.ready.then(ad(function(){return am("Images loaded, starting parsing"),am("Creating stacking contexts"),this.createStackingContexts(),am("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),am("Render queue created with "+this.renderQueue.length+" items"),new Promise(ad(function(d){k.async?"function"==typeof k.async?k.async.call(this,this.renderQueue,d):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,d)):d():(this.renderQueue.forEach(this.paint,this),d())},this))},this))}function aN(c){return c.parent&&c.parent.clip.length}function aY(c){return c.replace(/(\-[a-z])/g,function(d){return d.toUpperCase().replace("-","")})}function aT(){}function aI(d,h,c,g){return d.map(function(n,k){if(n.width>0){var j=h.left,e=h.top,m=h.width,f=h.height-d[2].width;switch(k){case 0:f=d[0].width,n.args=a1({c1:[j,e],c2:[j+m,e],c3:[j+m-d[1].width,e+f],c4:[j+d[3].width,e+f]},g[0],g[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:j=h.left+h.width-d[1].width,m=d[1].width,n.args=a1({c1:[j+m,e],c2:[j+m,e+f+d[2].width],c3:[j,e+f],c4:[j,e+d[0].width]},g[1],g[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:e=e+h.height-d[2].width,f=d[2].width,n.args=a1({c1:[j+m,e+f],c2:[j,e+f],c3:[j+d[3].width,e],c4:[j+m-d[3].width,e]},g[2],g[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:m=d[3].width,n.args=a1({c1:[j,e+f+d[2].width],c2:[j,e],c3:[j+m,e+d[0].width],c4:[j+m,e+f]},g[3],g[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return n})}function aQ(m,g,k,c){var p=4*((Math.sqrt(2)-1)/3),j=k*p,q=c*p,h=m+k,r=g+c;return{topLeft:aH({x:m,y:r},{x:m,y:r-q},{x:h-j,y:g},{x:h,y:g}),topRight:aH({x:m,y:g},{x:m+j,y:g},{x:h,y:r-q},{x:h,y:r}),bottomRight:aH({x:h,y:g},{x:h,y:g+q},{x:m+j,y:r},{x:m,y:r}),bottomLeft:aH({x:h,y:r},{x:h-j,y:r},{x:m,y:g+q},{x:m,y:g})}}function aJ(H,C,G){var B=H.left,I=H.top,E=H.width,q=H.height,x=C[0][0]<E/2?C[0][0]:E/2,l=C[0][1]<q/2?C[0][1]:q/2,L=C[1][0]<E/2?C[1][0]:E/2,A=C[1][1]<q/2?C[1][1]:q/2,J=C[2][0]<E/2?C[2][0]:E/2,h=C[2][1]<q/2?C[2][1]:q/2,D=C[3][0]<E/2?C[3][0]:E/2,z=C[3][1]<q/2?C[3][1]:q/2,k=E-L,j=q-h,K=E-J,F=q-z;return{topLeftOuter:aQ(B,I,x,l).topLeft.subdivide(0.5),topLeftInner:aQ(B+G[3].width,I+G[0].width,Math.max(0,x-G[3].width),Math.max(0,l-G[0].width)).topLeft.subdivide(0.5),topRightOuter:aQ(B+k,I,L,A).topRight.subdivide(0.5),topRightInner:aQ(B+Math.min(k,E+G[3].width),I+G[0].width,k>E+G[3].width?0:L-G[3].width,A-G[0].width).topRight.subdivide(0.5),bottomRightOuter:aQ(B+K,I+j,J,h).bottomRight.subdivide(0.5),bottomRightInner:aQ(B+Math.min(K,E-G[3].width),I+Math.min(j,q+G[0].width),Math.max(0,J-G[1].width),h-G[2].width).bottomRight.subdivide(0.5),bottomLeftOuter:aQ(B,I+F,D,z).bottomLeft.subdivide(0.5),bottomLeftInner:aQ(B+G[3].width,I+F,Math.max(0,D-G[3].width),z-G[2].width).bottomLeft.subdivide(0.5)}}function aH(g,j,c,i){var h=function(k,l,d){return{x:k.x+(l.x-k.x)*d,y:k.y+(l.y-k.y)*d}};return{start:g,startControl:j,endControl:c,end:i,subdivide:function(k){var f=h(g,j,k),e=h(j,c,k),m=h(c,i,k),d=h(f,e,k),n=h(e,m,k),o=h(d,n,k);return[aH(g,f,d,o),aH(o,n,m,i)]},curveTo:function(d){d.push(["bezierCurve",j.x,j.y,c.x,c.y,i.x,i.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,j.x,j.y,g.x,g.y])}}}function a1(k,q,j,p,m,h,g){var c=[];return q[0]>0||q[1]>0?(c.push(["line",p[1].start.x,p[1].start.y]),p[1].curveTo(c)):c.push(["line",k.c1[0],k.c1[1]]),j[0]>0||j[1]>0?(c.push(["line",h[0].start.x,h[0].start.y]),h[0].curveTo(c),c.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(c)):(c.push(["line",k.c2[0],k.c2[1]]),c.push(["line",k.c3[0],k.c3[1]])),q[0]>0||q[1]>0?(c.push(["line",m[1].end.x,m[1].end.y]),m[1].curveToReversed(c)):c.push(["line",k.c4[0],k.c4[1]]),c}function aM(j,m,h,l,k,g,c){m[0]>0||m[1]>0?(j.push(["line",l[0].start.x,l[0].start.y]),l[0].curveTo(j),l[1].curveTo(j)):j.push(["line",g,c]),(h[0]>0||h[1]>0)&&j.push(["line",k[0].start.x,k[0].start.y])}function aZ(c){return c.cssInt("zIndex")<0}function aD(c){return c.cssInt("zIndex")>0}function aP(c){return 0===c.cssInt("zIndex")}function aK(c){return -1!==["inline","inline-block","inline-table"].indexOf(c.css("display"))}function aG(c){return c instanceof af}function aF(c){return c.node.data.trim().length>0}function a0(c){return/^(normal|none|0px)$/.test(c.parent.css("letterSpacing"))}function aV(c){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(g){var d=c.css("border"+g+"Radius"),e=d.split(" ");return e.length<=1&&(e[1]=e[0]),e.map(av)})}function aU(c){return c.nodeType===Node.TEXT_NODE||c.nodeType===Node.ELEMENT_NODE}function aE(d){var g=d.css("position"),c=-1!==["absolute","relative","fixed"].indexOf(g)?d.css("zIndex"):"auto";return"auto"!==c}function aS(c){return"static"!==c.css("position")}function aR(c){return"none"!==c.css("float")}function aL(c){return -1!==["inline-block","inline-table"].indexOf(c.css("display"))}function aC(c){var d=this;return function(){return !c.apply(d,arguments)}}function aA(c){return c.node.nodeType===Node.ELEMENT_NODE}function az(c){return c.isPseudoElement===!0}function ay(c){return c.node.nodeType===Node.TEXT_NODE}function ax(c){return function(e,d){return e.cssInt("zIndex")+c.indexOf(e)/c.length-(d.cssInt("zIndex")+c.indexOf(d)/c.length)}}function aw(c){return c.getOpacity()<1}function av(c){return parseInt(c,10)}function au(c){return c.width}function at(c){return c.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(c.node.nodeName)}function ar(c){return[].concat.apply([],c)}function aq(c){var d=c.substr(0,1);return d===c.substr(c.length-1)&&d.match(/'|"/)?c.substr(1,c.length-2):c}function ap(g){for(var j,c=[],i=0,h=!1;g.length;){ao(g[i])===h?(j=g.splice(0,i),j.length&&c.push(al.ucs2.encode(j)),h=!h,i=0):i++,i>=g.length&&(j=g.splice(0,i),j.length&&c.push(al.ucs2.encode(j)))}return c}function ao(c){return -1!==[32,13,10,9,45].indexOf(c)}function an(c){return/[^\u0000-\u00ff]/.test(c)}var am=aX("./log"),al=aX("punycode"),ak=aX("./nodecontainer"),aj=aX("./textcontainer"),ai=aX("./pseudoelementcontainer"),ah=aX("./fontmetrics"),ag=aX("./color"),af=aX("./stackingcontext"),ae=aX("./utils"),ad=ae.bind,ac=ae.getBounds,ab=ae.parseBackgrounds,aa=ae.offsetBounds;aW.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(d){if(aA(d)){az(d)&&d.appendToDOM(),d.borders=this.parseBorders(d);var g="hidden"===d.css("overflow")?[d.borders.clip]:[],c=d.parseClip();c&&-1!==["absolute","fixed"].indexOf(d.css("position"))&&g.push([["rect",d.bounds.left+c.left,d.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]),d.clip=aN(d)?d.parent.clip.concat(g):g,d.backgroundClip="hidden"!==d.css("overflow")?d.clip.concat([d.borders.clip]):d.clip,az(d)&&d.cleanDOM()}else{ay(d)&&(d.clip=aN(d)?d.parent.clip:[])}az(d)||(d.bounds=null)},this)},aW.prototype.asyncRenderer=function(d,g,c){c=c||Date.now(),this.paint(d[this.renderIndex++]),d.length===this.renderIndex?g():c+20>Date.now()?this.asyncRenderer(d,g,c):setTimeout(ad(function(){this.asyncRenderer(d,g)},this),0)},aW.prototype.createPseudoHideStyles=function(c){this.createStyles(c,"."+ai.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+ai.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},aW.prototype.disableAnimations=function(c){this.createStyles(c,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},aW.prototype.createStyles=function(d,g){var c=d.createElement("style");c.innerHTML=g,d.body.appendChild(c)},aW.prototype.getPseudoElements=function(d){var h=[[d]];if(d.node.nodeType===Node.ELEMENT_NODE){var c=this.getPseudoElement(d,":before"),g=this.getPseudoElement(d,":after");c&&h.push(c),g&&h.push(g)}return ar(h)},aW.prototype.getPseudoElement=function(k,d){var j=k.computedStyle(d);if(!j||!j.content||"none"===j.content||"-moz-alt-content"===j.content||"none"===j.display){return null}for(var c=aq(j.content),h="url"===c.substr(0,3),q=document.createElement(h?"img":"html2canvaspseudoelement"),g=new ai(q,k,d),r=j.length-1;r>=0;r--){var p=aY(j.item(r));q.style[p]=j[p]}if(q.className=ai.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+ai.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,h){return q.src=ab(c)[0].args[0],[g]}var m=document.createTextNode(c);return q.appendChild(m),[g,new aj(m,g)]},aW.prototype.getChildren=function(c){return ar([].filter.call(c.node.childNodes,aU).map(function(e){var d=[e.nodeType===Node.TEXT_NODE?new aj(e,c):new ak(e,c)].filter(at);return e.nodeType===Node.ELEMENT_NODE&&d.length&&"TEXTAREA"!==e.tagName?d[0].isElementVisible()?d.concat(this.getChildren(d[0])):[]:d},this))},aW.prototype.newStackingContext=function(d,h){var c=new af(h,d.getOpacity(),d.node,d.parent);d.cloneTo(c);var g=h?c.getParentStack(this):c.parent.stack;g.contexts.push(c),d.stack=c},aW.prototype.createStackingContexts=function(){this.nodes.forEach(function(c){aA(c)&&(this.isRootElement(c)||aw(c)||aE(c)||this.isBodyWithTransparentRoot(c)||c.hasTransform())?this.newStackingContext(c,!0):aA(c)&&(aS(c)&&aP(c)||aL(c)||aR(c))?this.newStackingContext(c,!1):c.assignStack(c.parent.stack)},this)},aW.prototype.isBodyWithTransparentRoot=function(c){return"BODY"===c.node.nodeName&&c.parent.color("backgroundColor").isTransparent()},aW.prototype.isRootElement=function(c){return null===c.parent},aW.prototype.sortStackingContexts=function(c){c.contexts.sort(ax(c.contexts.slice(0))),c.contexts.forEach(this.sortStackingContexts,this)},aW.prototype.parseTextBounds=function(c){return function(l,h,k){if("none"!==c.parent.css("textDecoration").substr(0,4)||0!==l.trim().length){if(this.support.rangeBounds&&!c.parent.hasTransform()){var j=k.slice(0,h).join("").length;return this.getRangeBounds(c.node,j,l.length)}if(c.node&&"string"==typeof c.node.data){var g=c.node.splitText(l.length),e=this.getWrapperBounds(c.node,c.parent.hasTransform());return c.node=g,e}}else{(!this.support.rangeBounds||c.parent.hasTransform())&&(c.node=c.node.splitText(l.length))}return{}}},aW.prototype.getWrapperBounds=function(h,l){var g=h.ownerDocument.createElement("html2canvaswrapper"),k=h.parentNode,j=h.cloneNode(!0);g.appendChild(h.cloneNode(!0)),k.replaceChild(g,h);var c=l?aa(g):ac(g);return k.replaceChild(j,g),c},aW.prototype.getRangeBounds=function(d,h,c){var g=this.range||(this.range=d.ownerDocument.createRange());return g.setStart(d,h),g.setEnd(d,h+c),g.getBoundingClientRect()},aW.prototype.parse=function(j){var g=j.contexts.filter(aZ),i=j.children.filter(aA),c=i.filter(aC(aR)),k=c.filter(aC(aS)).filter(aC(aK)),q=i.filter(aC(aS)).filter(aR),h=c.filter(aC(aS)).filter(aK),r=j.contexts.concat(c.filter(aS)).filter(aP),p=j.children.filter(ay).filter(aF),m=j.contexts.filter(aD);g.concat(k).concat(q).concat(h).concat(r).concat(p).concat(m).forEach(function(d){this.renderQueue.push(d),aG(d)&&(this.parse(d),this.renderQueue.push(new aT))},this)},aW.prototype.paint=function(c){try{c instanceof aT?this.renderer.ctx.restore():ay(c)?(az(c.parent)&&c.parent.appendToDOM(),this.paintText(c),az(c.parent)&&c.parent.cleanDOM()):this.paintNode(c)}catch(d){if(am(d),this.options.strict){throw d}}},aW.prototype.paintNode=function(c){aG(c)&&(this.renderer.setOpacity(c.opacity),this.renderer.ctx.save(),c.hasTransform()&&this.renderer.setTransform(c.parseTransform())),"INPUT"===c.node.nodeName&&"checkbox"===c.node.type?this.paintCheckbox(c):"INPUT"===c.node.nodeName&&"radio"===c.node.type?this.paintRadio(c):this.paintElement(c)},aW.prototype.paintElement=function(c){var d=c.parseBounds();this.renderer.clip(c.backgroundClip,function(){this.renderer.renderBackground(c,d,c.borders.borders.map(au))},this),this.renderer.clip(c.clip,function(){this.renderer.renderBorders(c.borders.borders)},this),this.renderer.clip(c.backgroundClip,function(){switch(c.node.nodeName){case"svg":case"IFRAME":var e=this.images.get(c.node);e?this.renderer.renderImage(c,d,c.borders,e):am("Error loading <"+c.node.nodeName+">",c.node);break;case"IMG":var g=this.images.get(c.node.src);g?this.renderer.renderImage(c,d,c.borders,g):am("Error loading <img>",c.node.src);break;case"CANVAS":this.renderer.renderImage(c,d,c.borders,{image:c.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(c)}},this)},aW.prototype.paintCheckbox=function(k){var q=k.parseBounds(),j=Math.min(q.width,q.height),p={width:j-1,height:j-1,top:q.top,left:q.left},m=[3,3],h=[m,m,m,m],c=[1,1,1,1].map(function(d){return{color:new ag("#A5A5A5"),width:d}}),g=aJ(p,h,c);this.renderer.clip(k.backgroundClip,function(){this.renderer.rectangle(p.left+1,p.top+1,p.width-2,p.height-2,new ag("#DEDEDE")),this.renderer.renderBorders(aI(c,p,g,h)),k.node.checked&&(this.renderer.font(new ag("#424242"),"normal","normal","bold",j-3+"px","arial"),this.renderer.text("✔",p.left+j/6,p.top+j-1))},this)},aW.prototype.paintRadio=function(d){var g=d.parseBounds(),c=Math.min(g.width,g.height)-2;this.renderer.clip(d.backgroundClip,function(){this.renderer.circleStroke(g.left+1,g.top+1,c,new ag("#DEDEDE"),1,new ag("#A5A5A5")),d.node.checked&&this.renderer.circle(Math.ceil(g.left+c/4)+1,Math.ceil(g.top+c/4)+1,Math.floor(c/2),new ag("#424242"))},this)},aW.prototype.paintFormValue=function(h){var l=h.getValue();if(l.length>0){var g=h.node.ownerDocument,k=g.createElement("html2canvaswrapper"),j=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];j.forEach(function(e){try{k.style[e]=h.css(e)}catch(d){am("html2canvas: Parse: Exception caught in renderFormValue: "+d.message)}});var c=h.parseBounds();k.style.position="fixed",k.style.left=c.left+"px",k.style.top=c.top+"px",k.textContent=l,g.body.appendChild(k),this.paintText(new aj(k.firstChild,h)),g.body.removeChild(k)}},aW.prototype.paintText=function(j){j.applyTextTransform();var m=al.ucs2.decode(j.node.data),h=this.options.letterRendering&&!a0(j)||an(j.node.data)?m.map(function(d){return al.ucs2.encode([d])}):ap(m),l=j.parent.fontWeight(),k=j.parent.css("fontSize"),g=j.parent.css("fontFamily"),c=j.parent.parseTextShadows();this.renderer.font(j.parent.color("color"),j.parent.css("fontStyle"),j.parent.css("fontVariant"),l,k,g),c.length?this.renderer.fontShadow(c[0].color,c[0].offsetX,c[0].offsetY,c[0].blur):this.renderer.clearShadow(),this.renderer.clip(j.parent.clip,function(){h.map(this.parseTextBounds(j),this).forEach(function(e,d){e&&(this.renderer.text(h[d],e.left,e.bottom),this.renderTextDecoration(j.parent,e,this.fontMetrics.getMetrics(g,k)))},this)},this)},aW.prototype.renderTextDecoration=function(d,g,c){switch(d.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(g.left,Math.round(g.top+c.baseline+c.lineWidth),g.width,1,d.color("color"));break;case"overline":this.renderer.rectangle(g.left,Math.round(g.top),g.width,1,d.color("color"));break;case"line-through":this.renderer.rectangle(g.left,Math.ceil(g.top+c.middle+c.lineWidth),g.width,1,d.color("color"))}};var aB={inset:[["darken",0.6],["darken",0.1],["darken",0.1],["darken",0.6]]};aW.prototype.parseBorders=function(g){var j=g.parseBounds(),c=aV(g),i=["Top","Right","Bottom","Left"].map(function(p,k){var m=g.css("border"+p+"Style"),l=g.color("border"+p+"Color");"inset"===m&&l.isBlack()&&(l=new ag([255,255,255,l.a]));var e=aB[m]?aB[m][k]:null;return{width:g.cssInt("border"+p+"Width"),color:e?l[e[0]](e[1]):l,args:null}}),h=aJ(j,c,i);return{clip:this.parseBackgroundClip(g,h,i,c,j),borders:aI(i,j,h,c)}},aW.prototype.parseBackgroundClip=function(j,m,h,l,k){var g=j.css("backgroundClip"),c=[];switch(g){case"content-box":case"padding-box":aM(c,l[0],l[1],m.topLeftInner,m.topRightInner,k.left+h[3].width,k.top+h[0].width),aM(c,l[1],l[2],m.topRightInner,m.bottomRightInner,k.left+k.width-h[1].width,k.top+h[0].width),aM(c,l[2],l[3],m.bottomRightInner,m.bottomLeftInner,k.left+k.width-h[1].width,k.top+k.height-h[2].width),aM(c,l[3],l[0],m.bottomLeftInner,m.topLeftInner,k.left+h[3].width,k.top+k.height-h[2].width);break;default:aM(c,l[0],l[1],m.topLeftOuter,m.topRightOuter,k.left,k.top),aM(c,l[1],l[2],m.topRightOuter,m.bottomRightOuter,k.left+k.width,k.top),aM(c,l[2],l[3],m.bottomRightOuter,m.bottomLeftOuter,k.left+k.width,k.top+k.height),aM(c,l[3],l[0],m.bottomLeftOuter,m.topLeftOuter,k.left,k.top+k.height)}return c},aO.exports=aW},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(z,k,x){function j(l,r,i){var p="withCredentials" in new XMLHttpRequest;if(!r){return Promise.reject("No proxy configured")}var m=F(p),c=v(r,l,m);return p?D(c):w(i,c,m).then(function(d){return q(d.content)})}function A(l,r,i){var p="crossOrigin" in new Image,m=F(p),c=v(r,l,m);return p?Promise.resolve(c):w(i,c,m).then(function(d){return"data:"+d.type+";base64,"+d.content})}function w(d,i,c){return new Promise(function(m,l){var f=d.createElement("script"),e=function(){delete window.html2canvas.proxy[c],d.body.removeChild(f)};window.html2canvas.proxy[c]=function(n){e(),m(n)},f.src=i,f.onerror=function(n){e(),l(n)},d.body.appendChild(f)})}function F(c){return c?"":"html2canvas_"+Date.now()+"_"+ ++g+"_"+Math.round(100000*Math.random())}function v(d,i,c){return d+"?url="+encodeURIComponent(i)+(c.length?"&callback=html2canvas.proxy."+c:"")}function G(c){return function(y){var r,u=new DOMParser;try{r=u.parseFromString(y,"text/html")}catch(s){B("DOMParser not supported, falling back to createHTMLDocument"),r=document.implementation.createHTMLDocument("");try{r.open(),r.write(y),r.close()}catch(p){B("createHTMLDocument write not supported, falling back to document.body.innerHTML"),r.body.innerHTML=y}}var m=r.querySelector("base");if(!m||!m.href.host){var e=r.createElement("base");e.href=c,r.head.insertBefore(e,r.head.firstChild)}return r}}function E(o,r,m,p,l,c){return new j(o,r,window.document).then(G(o)).then(function(d){return C(d,m,p,l,c,0,0)})}var D=z("./xhr"),h=z("./utils"),B=z("./log"),C=z("./clone"),q=h.decode64,g=0;x.Proxy=j,x.ProxyURL=A,x.loadUrlDocument=E},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(d,h){function c(j,l){var i=document.createElement("a");i.href=j,j=i.href,this.src=j,this.image=new Image;var k=this;this.promise=new Promise(function(m,e){k.image.crossOrigin="Anonymous",k.image.onload=m,k.image.onerror=e,new g(j,l,document).then(function(f){k.image.src=f})["catch"](e)})}var g=d("./proxy").ProxyURL;h.exports=c},{"./proxy":16}],18:[function(d,h){function c(j,k,i){g.call(this,j,k),this.isPseudoElement=!0,this.before=":before"===i}var g=d("./nodecontainer");c.prototype.cloneTo=function(f){c.prototype.cloneTo.call(this,f),f.isPseudoElement=!0,f.before=this.before},c.prototype=Object.create(g.prototype),c.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},c.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},c.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",h.exports=c},{"./nodecontainer":14}],19:[function(d,h){function c(j,m,i,l,k){this.width=j,this.height=m,this.images=i,this.options=l,this.document=k}var g=d("./log");c.prototype.renderImage=function(r,k,q,j){var v=r.cssInt("paddingLeft"),p=r.cssInt("paddingTop"),y=r.cssInt("paddingRight"),m=r.cssInt("paddingBottom"),z=q.borders,x=k.width-(z[1].width+z[3].width+v+y),w=k.height-(z[0].width+z[2].width+p+m);this.drawImage(j,0,0,j.image.width||x,j.image.height||w,k.left+v+z[3].width,k.top+p+z[0].width,x,w)},c.prototype.renderBackground=function(j,k,i){k.height>0&&k.width>0&&(this.renderBackgroundColor(j,k),this.renderBackgroundImage(j,k,i))},c.prototype.renderBackgroundColor=function(j,k){var i=j.color("backgroundColor");i.isTransparent()||this.rectangle(k.left,k.top,k.width,k.height,i)},c.prototype.renderBorders=function(f){f.forEach(this.renderBorder,this)},c.prototype.renderBorder=function(f){f.color.isTransparent()||null===f.args||this.drawShape(f.args,f.color)},c.prototype.renderBackgroundImage=function(j,l,i){var k=j.parseBackgroundImages();k.reverse().forEach(function(o,m,f){switch(o.method){case"url":var e=this.images.get(o.args[0]);e?this.renderBackgroundRepeating(j,l,e,f.length-(m+1),i):g("Error loading background-image",o.args[0]);break;case"linear-gradient":case"gradient":var n=this.images.get(o.value);n?this.renderBackgroundGradient(n,l,i):g("Error loading background-image",o.args[0]);break;case"none":break;default:g("Unknown background-image type",o.args[0])}},this)},c.prototype.renderBackgroundRepeating=function(q,u,p,s,r){var m=q.parseBackgroundSize(u,p.image,s),k=q.parseBackgroundPosition(u,p.image,s,m),j=q.parseBackgroundRepeat(s);switch(j){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(p,k,m,u,u.left+r[3],u.top+k.top+r[0],99999,m.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(p,k,m,u,u.left+k.left+r[3],u.top+r[0],m.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(p,k,m,u,u.left+k.left+r[3],u.top+k.top+r[0],m.width,m.height,r);break;default:this.renderBackgroundRepeat(p,k,m,{top:u.top,left:u.left},r[3],r[0])}},h.exports=c},{"./log":13}],20:[function(j,m){function h(d,f){k.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=d,this.canvas.height=f),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},c("Initialized CanvasRenderer with size",d,"x",f)}function l(d){return d.length>0}var k=j("../renderer"),g=j("../lineargradientcontainer"),c=j("../log");h.prototype=Object.create(k.prototype),h.prototype.setFillStyle=function(d){return this.ctx.fillStyle="object"==typeof d&&d.isColor?d.toString():d,this.ctx},h.prototype.rectangle=function(p,s,i,r,q){this.setFillStyle(q).fillRect(p,s,i,r)},h.prototype.circle=function(i,q,d,p){this.setFillStyle(p),this.ctx.beginPath(),this.ctx.arc(i+d/2,q+d/2,d/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},h.prototype.circleStroke=function(r,u,q,t,s,p){this.circle(r,u,q,t),this.ctx.strokeStyle=p.toString(),this.ctx.stroke()},h.prototype.drawShape=function(d,f){this.shape(d),this.setFillStyle(f).fill()},h.prototype.taints=function(d){if(null===d.tainted){this.taintCtx.drawImage(d.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),d.tainted=!1}catch(f){this.taintCtx=document.createElement("canvas").getContext("2d"),d.tainted=!0}}return d.tainted},h.prototype.drawImage=function(w,q,v,p,x,u,y,r,z){(!this.taints(w)||this.options.allowTaint)&&this.ctx.drawImage(w.image,q,v,p,x,u,y,r,z)},h.prototype.clip=function(i,o,d){this.ctx.save(),i.filter(l).forEach(function(f){this.shape(f).clip()},this),o.call(d),this.ctx.restore()},h.prototype.shape=function(d){return this.ctx.beginPath(),d.forEach(function(f,i){"rect"===f[0]?this.ctx.rect.apply(this.ctx,f.slice(1)):this.ctx[0===i?"moveTo":f[0]+"To"].apply(this.ctx,f.slice(1))},this),this.ctx.closePath(),this.ctx},h.prototype.font=function(r,u,q,t,s,p){this.setFillStyle(r).font=[u,q,t,s,p].join(" ").split(",")[0]},h.prototype.fontShadow=function(i,q,d,p){this.setVariable("shadowColor",i.toString()).setVariable("shadowOffsetY",q).setVariable("shadowOffsetX",d).setVariable("shadowBlur",p)},h.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},h.prototype.setOpacity=function(d){this.ctx.globalAlpha=d},h.prototype.setTransform=function(d){this.ctx.translate(d.origin[0],d.origin[1]),this.ctx.transform.apply(this.ctx,d.matrix),this.ctx.translate(-d.origin[0],-d.origin[1])},h.prototype.setVariable=function(d,f){return this.variables[d]!==f&&(this.variables[d]=this.ctx[d]=f),this},h.prototype.text=function(i,o,d){this.ctx.fillText(i,o,d)},h.prototype.backgroundRepeatShape=function(x,q,w,p,y,v,A,r,B){var z=[["line",Math.round(y),Math.round(v)],["line",Math.round(y+A),Math.round(v)],["line",Math.round(y+A),Math.round(r+v)],["line",Math.round(y),Math.round(r+v)]];this.clip([z],function(){this.renderBackgroundRepeat(x,q,w,p,B[3],B[0])},this)},h.prototype.renderBackgroundRepeat=function(u,x,s,w,v,r){var q=Math.round(w.left+x.left+v),p=Math.round(w.top+x.top+r);this.setFillStyle(this.ctx.createPattern(this.resizeImage(u,s),"repeat")),this.ctx.translate(q,p),this.ctx.fill(),this.ctx.translate(-q,-p)},h.prototype.renderBackgroundGradient=function(i,o){if(i instanceof g){var d=this.ctx.createLinearGradient(o.left+o.width*i.x0,o.top+o.height*i.y0,o.left+o.width*i.x1,o.top+o.height*i.y1);i.colorStops.forEach(function(f){d.addColorStop(f.stop,f.color.toString())}),this.rectangle(o.left,o.top,o.width,o.height,d)}},h.prototype.resizeImage=function(p,s){var i=p.image;if(i.width===s.width&&i.height===s.height){return i}var r,q=document.createElement("canvas");return q.width=s.width,q.height=s.height,r=q.getContext("2d"),r.drawImage(i,0,0,i.width,i.height,0,0,s.width,s.height),q},m.exports=h},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(d,h){function c(j,l,i,k){g.call(this,i,k),this.ownStacking=j,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*l}var g=d("./nodecontainer");c.prototype=Object.create(g.prototype),c.prototype.getParentStack=function(f){var i=this.parent?this.parent.stack:null;return i?i.ownStacking?i:i.getParentStack(f):f.stack},h.exports=c},{"./nodecontainer":14}],22:[function(d,g){function c(f){this.rangeBounds=this.testRangeBounds(f),this.cors=this.testCORS(),this.svg=this.testSVG()}c.prototype.testRangeBounds=function(k){var p,j,m,l,h=!1;return k.createRange&&(p=k.createRange(),p.getBoundingClientRect&&(j=k.createElement("boundtest"),j.style.height="123px",j.style.display="block",k.body.appendChild(j),p.selectNode(j),m=p.getBoundingClientRect(),l=m.height,123===l&&(h=!0),k.body.removeChild(j))),h},c.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},c.prototype.testSVG=function(){var i=new Image,k=document.createElement("canvas"),h=k.getContext("2d");i.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{h.drawImage(i,0,0),k.toDataURL()}catch(j){return !1}return !0},g.exports=c},{}],23:[function(g,j){function c(d){this.src=d,this.image=null;var f=this;this.promise=this.hasFabric().then(function(){return f.isInline(d)?Promise.resolve(f.inlineFormatting(d)):i(d)}).then(function(k){return new Promise(function(e){window.html2canvas.svg.fabric.loadSVGFromString(k,f.createCanvas.call(f,e))})})}var i=g("./xhr"),h=g("./utils").decode64;c.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},c.prototype.inlineFormatting=function(d){return/^data:image\/svg\+xml;base64,/.test(d)?this.decode64(this.removeContentType(d)):this.removeContentType(d)},c.prototype.removeContentType=function(d){return d.replace(/^data:image\/svg\+xml(;base64)?,/,"")},c.prototype.isInline=function(d){return/^data:image\/svg\+xml/i.test(d)},c.prototype.createCanvas=function(d){var f=this;return function(e,l){var k=new window.html2canvas.svg.fabric.StaticCanvas("c");f.image=k.lowerCanvasEl,k.setWidth(l.width).setHeight(l.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(e,l)).renderAll(),d(k.lowerCanvasEl)}},c.prototype.decode64=function(d){return"function"==typeof window.atob?window.atob(d):h(d)},j.exports=c},{"./utils":26,"./xhr":28}],24:[function(d,h){function c(j,k){this.src=j,this.image=null;var i=this;this.promise=k?new Promise(function(f,e){i.image=new Image,i.image.onload=f,i.image.onerror=e,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(j),i.image.complete===!0&&f(i.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(j,i.createCanvas.call(i,e))})})}var g=d("./svgcontainer");c.prototype=Object.create(g.prototype),h.exports=c},{"./svgcontainer":23}],25:[function(g,j){function c(d,f){h.call(this,d,f)}function i(k,l,d){return k.length>0?l+d.toUpperCase():void 0}var h=g("./nodecontainer");c.prototype=Object.create(h.prototype),c.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},c.prototype.transform=function(d){var f=this.node.data;switch(d){case"lowercase":return f.toLowerCase();case"capitalize":return f.replace(/(^|\s|:|-|\(|\))([a-z])/g,i);case"uppercase":return f.toUpperCase();default:return f}},j.exports=c},{"./nodecontainer":14}],26:[function(d,g,c){c.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},c.bind=function(f,h){return function(){return f.apply(h,arguments)}},c.decode64=function(v){var k,r,j,w,q,z,m,A,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=v.length,h="";for(k=0;x>k;k+=4){r=y.indexOf(v[k]),j=y.indexOf(v[k+1]),w=y.indexOf(v[k+2]),q=y.indexOf(v[k+3]),z=r<<2|j>>4,m=(15&j)<<4|w>>2,A=(3&w)<<6|q,h+=64===w?String.fromCharCode(z):64===q||-1===q?String.fromCharCode(z,m):String.fromCharCode(z,m,A)}return h},c.getBounds=function(i){if(i.getBoundingClientRect){var j=i.getBoundingClientRect(),h=null==i.offsetWidth?j.width:i.offsetWidth;return{top:j.top,bottom:j.bottom||j.top+j.height,right:j.left+h,left:j.left,width:h,height:null==i.offsetHeight?j.height:i.offsetHeight}}return{}},c.offsetBounds=function(f){var h=f.offsetParent?c.offsetBounds(f.offsetParent):{top:0,left:0};return{top:f.offsetTop+h.top,bottom:f.offsetTop+f.offsetHeight+h.top,right:f.offsetLeft+h.left+f.offsetWidth,left:f.offsetLeft+h.left,width:f.offsetWidth,height:f.offsetHeight}},c.parseBackgrounds=function(v){var k,r,j,w,q,A,m,B=" \r\n	",z=[],y=0,h=0,x=function(){k&&('"'===r.substr(0,1)&&(r=r.substr(1,r.length-2)),r&&m.push(r),"-"===k.substr(0,1)&&(w=k.indexOf("-",1)+1)>0&&(j=k.substr(0,w),k=k.substr(w)),z.push({prefix:j,method:k.toLowerCase(),value:q,args:m,image:null})),m=[],k=j=r=q=""};return m=[],k=j=r=q="",v.split("").forEach(function(f){if(!(0===y&&B.indexOf(f)>-1)){switch(f){case'"':A?A===f&&(A=null):A=f;break;case"(":if(A){break}if(0===y){return y=1,void (q+=f)}h++;break;case")":if(A){break}if(1===y){if(0===h){return y=0,q+=f,void x()}h--}break;case",":if(A){break}if(0===y){return void x()}if(1===y&&0===h&&!k.match(/^url$/i)){return m.push(r),r="",void (q+=f)}}q+=f,0===y?k+=f:r+=f}}),x(),z}},{}],27:[function(d,h){function c(f){g.apply(this,arguments),this.type="linear"===f.args[0]?g.TYPES.LINEAR:g.TYPES.RADIAL}var g=d("./gradientcontainer");c.prototype=Object.create(g.prototype),h.exports=c},{"./gradientcontainer":9}],28:[function(d,g){function c(f){return new Promise(function(i,e){var h=new XMLHttpRequest;h.open("GET",f),h.onload=function(){200===h.status?i(h.responseText):e(new Error(h.statusText))},h.onerror=function(){e(new Error("Network Error"))},h.send()})}g.exports=c},{}]},{},[4])(4)});